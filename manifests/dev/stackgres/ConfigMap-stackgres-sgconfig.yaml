apiVersion: v1
data:
  sgconfig.json: |
    apiVersion: stackgres.io/v1
    kind: SGConfig
    metadata:
      name: stackgres
      namespace: stackgres
    spec: {"adminui":{"image":{"name":"stackgres/admin-ui","pullPolicy":"IfNotPresent","tag":"1.17.2"},"resources":{},"service":{"exposeHTTP":false,"loadBalancerIP":null,"loadBalancerSourceRanges":null,"nodePort":null,"nodePortHTTP":null,"type":"ClusterIP"}},"allowImpersonationForRestApi":null,"allowedNamespaceLabelSelector":null,"allowedNamespaces":[],"authentication":{"createAdminSecret":true,"oidc":null,"password":null,"type":"jwt","user":"admin"},"cert":{"autoapprove":true,"certDuration":730,"certManager":{"autoConfigure":false,"duration":"2160h","encoding":"PKCS1","renewBefore":"360h","size":2048},"createForCollector":true,"createForOperator":true,"createForWebApi":true,"crt":null,"jwtRsaKey":null,"jwtRsaPub":null,"key":null,"regenerateCert":true,"regenerateWebCert":true,"regenerateWebRsa":true,"secretName":null,"webCertDuration":null,"webCrt":null,"webKey":null,"webRsaDuration":null,"webSecretName":null},"collector":{"affinity":{},"annotations":{},"config":{"exporters":{"otlp":{"endpoint":"stackgres-collector:4317","tls":{"ca_file":"/etc/operator/certs/tls.crt"}},"prometheus":{"enable_open_metrics":false,"endpoint":"0.0.0.0:9464","metric_expiration":"5m","resource_to_telemetry_conversion":{"enabled":false},"send_timestamps":true,"tls":{"ca_file":"/etc/operator/certs/tls.crt","cert_file":"/etc/operator/certs/tls.crt","key_file":"/etc/operator/certs/tls.key","reload_interval":"10m"}}},"processors":{"memory_limiter":{"check_interval":"1s","limit_percentage":80,"spike_limit_percentage":15}},"receivers":{"otlp":{"protocols":{"grpc":{"endpoint":"0.0.0.0:4317","tls":{"ca_file":"/etc/operator/certs/tls.crt","cert_file":"/etc/operator/certs/tls.crt","key_file":"/etc/operator/certs/tls.key"}}}}},"service":{"extensions":[],"pipelines":{"metrics":{"exporters":["prometheus"],"processors":["memory_limiter"],"receivers":["prometheus"]}}}},"name":"stackgres-collector","nodeSelector":{},"ports":[{"containerPort":9464,"name":"prom-http","protocol":"TCP"}],"prometheusOperator":{"allowDiscovery":true,"monitors":null},"receivers":{"deployments":null,"enabled":false,"exporters":1},"resources":{"limits":{"cpu":"1","memory":"4Gi"},"requests":{"cpu":"250m","memory":"1Gi"}},"service":{"annotations":{},"spec":{"ports":[{"name":"prom-http","port":9464,"protocol":"TCP","targetPort":"prom-http"}],"type":"ClusterIP"}},"serviceAccount":{"annotations":{}},"tolerations":[],"volumeMounts":[],"volumes":[]},"containerRegistry":"quay.io","deploy":{"collector":true,"operator":true,"restapi":true},"developer":{"allowPullExtensionsFromImageRepository":false,"disableArbitraryUser":false,"enableJvmDebug":false,"enableJvmDebugSuspend":false,"externalOperatorIp":null,"externalOperatorPort":null,"externalRestApiIp":null,"externalRestApiPort":null,"logLevel":null,"patches":{"adminui":{"volumeMounts":[],"volumes":[]},"clusterController":{"volumeMounts":[],"volumes":[]},"jobs":{"volumeMounts":[],"volumes":[]},"operator":{"volumeMounts":[],"volumes":[]},"restapi":{"volumeMounts":[],"volumes":[]},"stream":{"volumeMounts":[],"volumes":[]}},"showDebug":false,"showStackTraces":false,"version":null},"disableClusterRole":null,"disableCrdsAndWebhooksUpdate":null,"extensions":{"cache":{"enabled":false,"hostPath":null,"persistentVolume":{"size":"1Gi","storageClass":null},"preloadedExtensions":["x86_64/linux/timescaledb-1\\.7\\.4-pg12"]},"repositoryUrls":["https://extensions.stackgres.io/postgres/repository"]},"grafana":{"autoEmbed":false,"dashboardConfigMap":null,"datasourceName":"Prometheus","password":"prom-operator","schema":"http","secretName":null,"secretNamespace":null,"secretPasswordKey":null,"secretUserKey":null,"token":null,"urls":null,"user":"admin","webHost":null},"imagePullPolicy":"IfNotPresent","imagePullSecrets":null,"jobs":{"affinity":{},"annotations":{},"image":{"name":"stackgres/jobs","pullPolicy":"IfNotPresent","tag":"1.17.2"},"nodeSelector":{},"resources":{},"tolerations":[]},"operator":{"affinity":{},"annotations":{},"image":{"name":"stackgres/operator","pullPolicy":"IfNotPresent","tag":"1.17.2"},"nodeSelector":{},"resources":{},"service":{"annotations":{}},"serviceAccount":{"annotations":{},"repoCredentials":[]},"tolerations":[]},"prometheus":null,"rbac":{"create":true},"restapi":{"affinity":{},"annotations":{},"image":{"name":"stackgres/restapi","pullPolicy":"IfNotPresent","tag":"1.17.2"},"name":"stackgres-restapi","nodeSelector":{},"resources":{},"service":{"annotations":{}},"serviceAccount":{"annotations":{},"repoCredentials":[]},"tolerations":[]},"serviceAccount":{"annotations":{},"create":true,"repoCredentials":[]},"sgConfigNamespace":null,"shardingSphere":null}
kind: ConfigMap
metadata:
  annotations:
    helm.sh/hook: pre-install,pre-upgrade,post-upgrade
    helm.sh/hook-delete-policy: before-hook-creation,hook-succeeded
    helm.sh/hook-weight: "9"
  name: stackgres-sgconfig
  namespace: stackgres
